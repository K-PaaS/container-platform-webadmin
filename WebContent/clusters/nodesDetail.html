<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>PaaS-TA Container</title>
    <link href="../resources/css/layout.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="wrap">
		<!-- Header -->
		<header>
			<div>
				<!-- logo -->
				<h1>
					<a href="javascript:;"><img src="../resources/img/logo.png" alt="PaaS-TA 로고" /></a>
				</h1>
				<!-- menu -->
				<div>
					<!-- title -->
					<h3>
						<a href="javascript:;" class="nameTop">ALL</a>
						<ul class="nameSpace scroll02">
						</ul>
					</h3>
					<!-- member-menu -->
					<div>
						<a href="javascript:;" id="logout">로그아웃</a>
						<div>
							<a href="javascript:;">환경설정</a>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!-- // Header -->
		<!-- container -->
		<div id="container">
			<!-- aside -->
			<aside>
				<nav>
					<ul>
						<li class="plus">
							<a href="javascript:;" class="dep01">Clusters</a>
							<ul class="sub">
								<li><a href="clusters/namespaces.html">Namespaces</a></li>
								<li><a href="javascript:;">Nodes</a></li>
							</ul>
						</li>
						<li class="plus">
							<a href="javascript:;" class="dep01">Workloads</a>
							<ul class="sub">
								<li><a href="javascript:;">Deployments</a></li>
								<li><a href="javascript:;">Pods</a></li>
								<li><a href="javascript:;">Replica Sets</a></li>
							</ul>
						</li>
						<li>
							<a href="javascript:;" class="dep01">Services</a>
						</li>
						<li class="plus">
							<a href="javascript:;" class="dep01">Storages</a>
							<ul class="sub">
								<li><a href="javascript:;">Persistsnt Volumes</a></li>
								<li><a href="javascript:;">Persistsnt Volume Claims</a></li>
								<li><a href="javascript:;">Storage Classes</a></li>
							</ul>
						</li>
						<li class="plus">
							<a href="javascript:;" class="dep01">Managements</a>
							<ul class="sub">
								<li><a href="javascript:;">Users</a></li>
								<li><a href="javascript:;">Roles</a></li>
								<li><a href="javascript:;">Resource Quotas</a></li>
								<li><a href="javascript:;">Limit Ranges</a></li>
							</ul>
						</li>
					</ul>
				</nav>
			</aside>
			<!-- // aside -->
			<!-- Content -->
			<div id="content" class="sub-page clusters">
				<article class="location">
					<ul>
						<li><a href="javascript:;">Overview</a></li>
						<li><a href="javascript:;">Clusters</a></li>
						<li>Namespaces</li>
					</ul>
					<!-- Click event class="on" -->
					<fieldset>
						<input type="text" name="keyword" autocomplete="off" placeholder="검색어를 입력해주세요" />
						<button type="submit">검색</button>
					</fieldset>
				</article>
				<article class="base detail">
					<div class="notice">
						<h4>Details</h4>
						<div class="table_style01">
							<table>
								<colgroup >
									<col width="18%" />
									<col width="82%" />
								</colgroup>
								<tbody class="listTable">
									<tr>
										<th scope="row">Name</th>
										<td>test-namespace</td>
									</tr>
									<tr>
										<th scope="row">UID</th>
										<td>a47ef60c-cbde-4b57-a866-ba7c2f2692fe</td>
									</tr>
									<tr>
										<th scope="row">Labels</th>
										<td class="ellips">label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2
											<div>label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2el-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-el-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-el-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-el-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-el-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-el-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-2label-1, label-</div>
										</td>
									</tr>
									<tr>
										<th scope="row">Annotations</th>
										<td><a href="javascript:;">kubectl.kubernetes.io/last-applied-configuration</a></td>
									</tr>
									<tr>
										<th scope="row">Status</th>
										<td>Active</td>
									</tr>
									<tr>
										<th scope="row">Created time</th>
										<td>2020-07-31 16:20:30</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h4>Resource Quotas</h4>
						<div class="table_style01">
							<table>
								<colgroup >
									<col width="20%" />
									<col width="60%" />
									<col width="20%" />
								</colgroup>
								<thead>
									<tr>
										<th scope="col">Name</th>
										<th scope="col">Status</th>
										<th scope="col">Created Time</th>
									</tr>
								</thead>
								<tbody class="listTable">
									<tr>
										<td>Pods-high</td>
										<td>{ "cpu": { "used": "0", "hard": "15" }, "memory": { "used": "0", "hard": "30Gi" }, "Pods": { "used": "0", "hard": "10" } }
										</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
									<tr>
										<td>Pods-high</td>
										<td>{ "cpu": { "used": "0", "hard": "15" }, "memory": { "used": "0", "hard": "30Gi" }, "Pods": { "used": "0", "hard": "10" } }
										</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h4>Limit Ranges</h4>
						<div class="table_style01">
							<table>
								<colgroup >
									<col width="25%" />
									<col width="25%" />
									<col width="25%" />
									<col width="25%" />
								</colgroup>
								<thead>
									<tr>
										<th scope="col">Resource Name</th>
										<th scope="col">Resource Type</th>
										<th scope="col">Default Limit</th>
										<th scope="col">Default Request</th>
									</tr>
								</thead>
								<tbody class="listTable">
									<tr>
										<td>memory</td>
										<td>Container</td>
										<td>512Mi</td>
										<td>256Mi</td>
									</tr>
									<tr>
										<td>cpu</td>
										<td>Container</td>
										<td>4</td>
										<td>2</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h4>Events</h4>
						<div class="table_style01">
							<table>
								<colgroup >
									<col width="20%" />
									<col width="20%" />
									<col width="16%" />
									<col width="8%" />
									<col width="18%" />
									<col width="18%" />
								</colgroup>
								<thead>
									<tr>
										<th scope="col">Message</th>
										<th scope="col">Source</th>
										<th scope="col">Sub-object</th>
										<th scope="col">Count</th>
										<th scope="col">First seen</th>
										<th scope="col">Last seen</th>
									</tr>
								</thead>
								<tbody class="listTable">
									<tr>
										<td>Pulling image "busybox"</td>
										<td>kubelet paasta-cp-k8s-worker-001</td>
										<td>spec.containers</td>
										<td>3</td>
										<td>2020-07-31 16:20:30</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
									<tr>
										<td>Successfully pulled image "busybox"</td>
										<td>kubelet paasta-cp-k8s-worker-001</td>
										<td>spec.containers</td>
										<td>3</td>
										<td>2020-07-31 16:20:30</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="table_style01">
							<table>
								<caption>Users</caption>
								<colgroup >
									<col width="10%" />
									<col width="30%" />
									<col width="30%" />
									<col width="30%" />
								</colgroup>
								<thead>
									<tr>
										<th scope="col">Admin</th>
										<th scope="col">User ID</th>
										<th scope="col">Services Account</th>
										<th scope="col">Created time</th>
									</tr>
								</thead>
								<tbody class="listTable">
									<tr>
										<td>Y</td>
										<td><a href="javascript:;">test-user-03</a></td>
										<td>test-user-03</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
									<tr>
										<td>N</td>
										<td><a href="javascript:;">test-user-02</a></td>
										<td>test-user-03</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
									<tr>
										<td>N</td>
										<td><a href="javascript:;">test-user-01</a></td>
										<td>test-user-03</td>
										<td>2020-07-31 16:20:30</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<!-- btn -->
					<div class="btn02">
						<button type="submit">삭제</button>
						<div>
							<a href="namespacesUpdate.html">수정</a>
							<a href="namespaces.html">이전</a>
						</div>
					</div>
				</article>
			</div>
			<!-- // Content -->
		</div>
		<!-- // container -->
		<!-- modal -->
		<div class="modal-wrap" style="display:none;">
			<div class="modal">
				<h5>삭제확인</h5>
				<p>리소스를 삭제하시겠습니까?</p>
				<button class="confirm" type="submit">삭제</button>
				<a class="close" href="javascript:;">닫기</a>
			</div>
		</div>
	</div>
	<!--
	<script type="text/javascript" src="../resources/js/c3.min.js"></script>
	<script type="text/javascript" src="../resources/js/common.js"></script>
	<script type="text/javascript">
		window.onload = () => {

			func.init(0, 0);

			const createNamespaces = {
				init(){

					// nameSpace 정보 조회
					func.loadData('GET', `${func.url}clusters/${sessionStorage.getItem('cluster')}/namespaces/all/users/adminCheck`, createNamespaces.draw);
				},

				draw(data){
					/*
					detailMessage: "정상적으로 처리 되었습니다."
					httpStatusCode: 200
					namespace: "all"
					resultCode: "SUCCESS"
					resultMessage: "정상적으로 처리 되었습니다."
					usersInfo: Array(66)
						0: {userId: "opdcminsu", isNsAdmin: "N"}
						1: {userId: "hrjin4", isNsAdmin: "N"}
					*/

					for(var i=0; i<=data.usersInfo.length-1; i++){
						var html = `<option value="${data.usersInfo[i].userId}">${data.usersInfo[i].userId}</option>`;
						
						func.appendHtml(document.getElementById('user'), html, 'select');
					};
					
					document.getElementById('user').querySelector('option').setAttribute('selected', 'selected');

					createNamespaces.event();
				},

				event(){
					document.querySelector('.resAdd').addEventListener('click', (e) => {
						func.loadData('GET', `${func.url}clusters/${sessionStorage.getItem('cluster')}/namespaces/all/popup/resourceQuotas/template?offset=0&limit=10`, createNamespaces.resource);
					}, false);
					
					document.querySelector('.limAdd').addEventListener('click', (e) => {
					}, false);
					
					document.getElementById('save').addEventListener('click', (e) => {
						console.log(document.getElementById('name').value);
						console.log(document.getElementById('user').value);
					}, false);
				},

				resource(data){
					console.log(data);
					/*
					detailMessage: "정상적으로 처리 되었습니다."
					httpStatusCode: 200
					itemMetaData: {allItemCount: 3, remainingItemCount: 0}
					items: Array(3)
						0: {name: "cp-low-rq", requestCpu: "0", requestMemory: "0", limitCpu: "2", limitMemory: "2Gi", …}
						1: {name: "cp-medium-rq", requestCpu: "0", requestMemory: "0", limitCpu: "4", limitMemory: "6Gi", …}
					metadata: null
					resultCode: "SUCCESS"
					resultMessage: "정상적으로 처리 되었습니다."
					*/
					if(data.items.length > 0){
						var html = `<div class='modal-wrap' id='modal'><div class='modal wide'><h5>Resource Quotas</h5>`;
						
						html += `<div class="table_style01">
									<table>
										<caption>Resource Quotas</caption>
										<colgroup >
											<col width="30%" />
											<col width="70%" />
										</colgroup>
										<thead>
											<tr>
												<th scope="col">Name</th>
												<th scope="col">Status</th>
											</tr>
										</thead>
										<tbody class="resourceList">`;

						for(var i=0; i<=data.items.length-1; i++){
							html += `<tr><td>${data.items[i].name}</td><td>${data.items[i].status}</td></tr>`;
						}

						html +=	`			</tbody>
									</table>
								</div>`;
						html += `<a class='confirm' href='javascript:;'>저장</a>`;
						html += `<a class='close' href='javascript:;'>닫기</a></div></div>`;

						func.appendHtml(document.getElementById('wrap'), html, 'div');
					} else {
						func.alertPopup('ERROR', '리스트가 없습니다.', false, '닫기', true);
					}
				},

				limit(data){

				},

				resourceSelect(){
					console.log('call');
				},

				limitSelect(){

				},
			}

			createNamespaces.init();
		}
	</script>-->
</body>
</html>